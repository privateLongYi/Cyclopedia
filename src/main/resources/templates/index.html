<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1,
maximum-scale=1, user-scalable=no">
    <title>百科-后台管理</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}"/>
    <script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
    <link rel="stylesheet" th:href="@{/css/homelist.css}"/>
    <link rel="stylesheet" th:href="@{/css/skintheme.css}"/>
    <script type="text/javascript" th:src="@{/js/index.js}"></script>
    <script>
        function changepath(path){
            $('iframe').attr('src',path);
        }
    </script>
    <style>
        body {
            background-color: #f5f7f9;
            color: #6c6c6c;
            font: 300 1em/1.5em;
        }
        .container {
            left: 50%;
            position: absolute;
            top: 100px;
            transform: translate(-50%, -50%);
        }

        /* PROGRESS */
        .progress {
            background-color: #e5e9eb;
            height: 0.25em;
            position: relative;
            width: 24em;
        }
        .progress-bar {
            animation-duration: 3s;
            animation-name: width;
            background-image: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);
            background-size: 24em 0.25em;
            height: 100%;
            position: relative;
        }
        .progress-shadow {
            background-image: linear-gradient(to bottom, #eaecee, transparent);
            height: 4em;
            position: absolute;
            top: 100%;
            transform: skew(45deg);
            transform-origin: 0 0;
            width: 100%;
        }

        /* ANIMATIONS */
        @keyframes width {
            0%, 100% {
                transition-timing-function: cubic-bezier(1, 0, 0.65, 0.85);
            }
            0% {
                width: 0;
            }
            100% {
                width: 100%;
            }
        }
    </style>

    <div class="container">
        <div class="progress">
            <div class="progress-bar">
                <div class="progress-shadow"></div>
            </div>
        </div>
    </div>
<body>

<div class="main">
    <div class="container-fluid">
        <div class="row">
            <div id="smallDiv"
                 style="width: 3%; background: red; float: left; display: none;">
                <div style="text-align: center; height: 50px; padding-top: 7px;" class="green-g">
                    <a href="#"><img th:src="@{/images/logo_1.png}" /></a>
                </div>
                <div class="list-left"
                     style="width: 100%; background: rgb(34, 45, 50);">
                    <div style="padding: 10px 0 20px 6px;">
                        <img src=""
                             style="width: 32px; height: 32px; border-radius: 50%;" />
                    </div>
                    <ul class="list-group">
                        <li>
                            <a href="#">
                                <span class="glyphicon glyphicon-asterisk"></span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!--把最顶上左侧的logo，栅格系统分2份-->
            <div class="col-lg-2 col-md-2 smallDiv"
                 style="padding: 0; margin: 0; display: block;">
                <div class="col-md-12 blue-b">
                    <a href="index.html" class="navbar-brand" style="padding: 8px 40px;"><img
                            th:src="@{/images/logo.jpg}" width="50" height="28" /></a>
                </div>
                <div class="col-md-12 list-left"
                     style="background: #222d32; height: 845px">

                    <div class="thistable">
                        <div class="panel-group" id="accordion"
                             style="margin-top: 10px; margin-left: -12px;">

                        </div>
                        <script>
                            $(function(){
                                $(".chazhao").click(function(){
                                    var $val=$(".cha").val();
                                    $(".thistable").load("menucha",{val:$val});
                                });
                            })
                        </script>		</div>
                </div>
            </div>
            <!--顶层右侧的导航栏，栅格系统分10份-->
            <div class="col-md-10 moredeep" style="padding: 0; margin: 0;">
                <!-- 导航栏 -->
                <div class="col-md-12 green" >
                    <!--右侧导航栏-->
                    <ul class="nav navbar-nav navbar-right moredeep">
                        <li class="dropdown">
                            <!--设置导航栏名字-->
                            <a href="#" class="green-none white" data-toggle="dropdown">
                                <span>罗密欧</span>
                            </a> <!--设置点击按钮弹出用户面板层-->
                            <ul class="dropdown-menu" style="padding:0;">
                                <li class="user-header green"><img src=""
                                                                   class="img-circle" style="width: 100px;height:100px;" />
                                    <p class="white" style="">
                                        <span>总经办 </span> / <span> 超级管理员</span><br> <small>超级管理员</small>
                                    </p></li>
                                <li class="user-footer">
                                    <div class="pull-left">
                                        <a href="javascript:changepath('userpanel.html');" class="btn btn-default">用户面板</a>
                                    </div>
                                    <div class="pull-right">
                                        <a href="login.html" class="btn btn-danger">退出登录</a>
                                    </div>
                                </li>
                            </ul>
                        </li>

                        <li style="position: relative;cursor:pointer;"><a  id="history" class="green-none white" data-toggle="dropdown"><span
                                class="glyphicon glyphicon-time"></span></a>
                            <ul id="historypanel" class="dropdown-menu"
                                style="position: absolute; background-color: #222d32;">
                                <li class="center">
                                    <a> <i class="glyphicon glyphicon-time"></i>历史记录
                                    </a>
                                </li>
                            </ul>
                        </li>

                    </ul>
                </div>
                <script>
                    function changeemail(){
                        var email=$('.badge-mail').text().trim();
                        var emailNum=parseInt(email);
                        if(emailNum>1){
                            $('.badge-mail').text((emailNum-1));
                        }else{
                            $('.badge-mail').text("");
                        }
                    }
                    function changeinformation(){
                        var email=$('.badge-notice').text().trim();
                        var emailNum=parseInt(email);
                        if(emailNum>1){
                            $('.badge-notice').text((emailNum-1));
                        }else{
                            $('.badge-notice').text("");
                        }
                    }
                    //从右往左滑动效果
                    $(function() {
                        var num = 1;
                        $("#history").click(function() {
                            num++;
                            if (num % 2 == 0) {
                                $("#historypanel").css({ //从右边飞入，使用绝对定位来操作
                                    "width" : "230px",
                                    "right" : "-230px"
                                }).show().animate({
                                    "right" : "0"
                                }, "fast");
                            } else
                                $("#historypanel").animate({
                                    "width" : "toggle"
                                }, "slow");
                            $('#historypanel').load('/userlogs');

                        })
                    })
                </script>					<div class="col-md-12 list-right"
                                                  style="background: #ecf0f5; position: relative; height: 845px;padding: 0;">
                <!--内容区块-->
                <iframe th:src="@{/static/main.html}" frameBorder="0" width="100%" height="92%"></iframe>
                <!-- 底部栏 -->
                <!-- <div class="container-fluid" style="padding: 0;">
                    <div class="row"> -->
                <div class="col-md-12" id="ss"
                     style="background: white; padding: 15px; position: absolute; bottom: 0;height:50px;">
                    <strong> Copyright © 2019 <a href="http://www.baike.com">百科</a>.
                    </strong> All rights reserved.
                    <div class="pull-right currt-time" style="display: inline-block;margin-right: 20px;">
                        2019年01月14日，星期一</div>
                </div>
                    <!-- </div>
                </div> -->
                <script type="text/javascript">

                    $(function() {
                        /*通过改变iframe来改变里面的内容块  */
                        function changepath(path) {
                            $('iframe').attr('src', path);
                        }
                        /*获取当前时间并显示在底部栏  */
                        var day = new Date();
                        var week = new Array("星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六");
                        s = day.getFullYear() + "年";
                        s = s + (day.getMonth()+1) + "月";
                        s = s + day.getDate() + "日,";
                        s = s + week[day.getDay()];
                        console.log(s);
                        $(".currt-time").text(s);


                        $('.open-menu').on('click', function() {
                            $('.glyphicon-menu-down').each(function() {
                                $(this).removeClass('glyphicon-menu-down').addClass("glyphicon-menu-left");
                            });
                            console.log($(this).children('.pull-right').hasClass('glyphicon-menu-down'));
                            if($(this).children('.pull-right').hasClass('glyphicon-menu-left')){
                                $(this).children('.pull-right').removeClass('glyphicon-menu-left').addClass("glyphicon-menu-down");
                            }
                            else{
                                $(this).children('.pull-right').removeClass('glyphicon-menu-down').addClass("glyphicon-menu-left");
                            }

                            $('.open-menu').each(function() {
                                $(this).css("border-left", "3px solid transparent");
                            });
                            $(this).css("border-left", "3px solid #00a65a");
                        });



                        $('.right-btn-group').on('click', 'a', function() {

                            var gly = $(this).children('button').children().hasClass('glyphicon-minus');
                            var child = $(this).children('button').children('.glyphicon');
                            if(gly) {
                                child.removeClass('glyphicon-minus').addClass('glyphicon-plus');
                            } else {
                                child.removeClass('glyphicon-plus').addClass('glyphicon-minus');
                            }

                        });

                        /* $('.right-btn-group a').on('click', function() {
                            //获取右侧内容板的高度；设置面板的高度
                            console.log($('.list-right').height());
                            $('.list-left').height($('.list-right').height());
                            $('.list-right').height($('.list-right').height());
                        }) */
                        //获取右侧内容板的高度；设置面板的高度
                        if(window.screen.height<800){
                            $('.list-left').height(850);
                            $('.list-right').height(850);
                        }else{
                            $('.list-left').height(window.screen.height-50);
                            $('.list-right').height(window.screen.height-50);
                        }

                        /* console.log("右边的高度"+$('.list-right').height());
                        console.log(" 网页可见区域高："+ document.body.clientHeight);
                        console.log(" 网页正文全文高："+ document.body.scrollHeight);
                        console.log(" 屏幕分辨率的高："+ window.screen.height);
                        console.log(" 屏幕可用工作区高度："+ window.screen.availHeight);
                        console.log(" 网页正文全文高："+ document.body.scrollHeight);
                        console.log(" 屏幕分辨率的高："+ window.screen.height); */
                        /* $('.list-left').height($('.list-right').height()); */
                        //				$('.list-right').height($('.list-right').height());

                        //点击按钮，左侧菜单栏收缩，右侧拉伸过去
                        $('.navbar-left li').on('click', function() {

                            if($('#smallDiv').css('display') == "none") {
                                $('.col-md-2').css('display', 'none');
                                $('.col-md-10').removeClass('col-md-10').addClass('col-md-11');
                                $('.col-md-11').css('width', '97%');
                                $('#smallDiv').css({
                                    'display': 'block',
                                    'width': '3%'
                                });
                                $('.list-left').height($('.list-right').height());
                            } else {
                                $('#smallDiv').css('display', 'none');
                                $('.col-md-2').css('display', 'block');
                                $('.col-md-11').removeClass('col-md-11').addClass('col-md-10');
                                $('.col-md-10').css('width', '');
                                $('.list-left').height($('.list-right').height());
                            }

                        });

                    });
                </script>					</div>
            </div>
        </div>
    </div>
</div>
</body>
</html>